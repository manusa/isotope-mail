branches:
  only:
  - master

language: java

services:
  - docker

before_install:
  - npm install --prefix ./client ./client

script:
  - ./server/gradlew -p ./server/ check || travis_terminate 1
  - npm run --prefix ./client build

after_success:
  - docker build -f ./client/Dockerfile -t marcnuri/isotope:client-latest ./client
